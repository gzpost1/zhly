<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.cuiot.dmp.lease.mapper.TbContractLeaseMapper">
    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="cn.cuiot.dmp.lease.entity.TbContractLeaseEntity">
        <id column="id" property="id"/>
        <result column="contract_no" property="contractNo"/>
        <result column="name" property="name"/>
        <result column="begin_date" property="beginDate"/>
        <result column="end_date" property="endDate"/>
        <result column="cantract_date" property="cantractDate"/>
        <result column="first_date" property="firstDate"/>
        <result column="follow_up" property="followUp"/>
        <result column="purpose" property="purpose"/>
        <result column="type" property="type"/>
        <result column="property" property="property"/>
        <result column="label" property="label"/>
        <result column="remark" property="remark"/>
        <result column="client" property="client"/>
        <result column="form" property="form"/>
        <result column="main_body" property="mainBody"/>
        <result column="path" property="path"/>
        <result column="create_time" property="createTime"/>
        <result column="update_time" property="updateTime"/>
        <result column="create_user" property="createUser"/>
        <result column="update_user" property="updateUser"/>
        <result column="status" property="status"/>
        <result column="deleted" property="deleted"/>
        <result column="contract_status" property="contractStatus"/>
        <result column="audit_status" property="auditStatus"/>
    </resultMap>

    <select id="list" resultMap="BaseResultMap" parameterType="cn.cuiot.dmp.lease.entity.TbContractLeaseEntity">
        select
        <include refid="Base_Column_List"/>
        from tb_contract_lease
        <where>
            <include refid="dynamic_where"/>
        </where>
    </select>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, contract_no, name, begin_date, end_date, cantract_date, first_date, follow_up, purpose, type, property, label, remark, client, form, main_body, path, create_time, update_time, create_user, update_user, status, deleted, contract_status, audit_status
    </sql>

    <sql id="dynamic_where">
        <if test="params!=null">
            <if test=" params.id != null">
                and id = #{params.id}
            </if>
            <if test=" params.contractNo != null and params.contractNo.trim() != ''">
                and contract_no like CONCAT('%','${params.contractNo}','%' )
            </if>
            <if test=" params.name != null and params.name.trim() != ''">
                and name like CONCAT('%','${params.name}','%' )
            </if>
            <if test=" params.beginDate != null">
                <!--  and  begin_date between #{params.beginDate} and #{params.endDate}  -->
                and begin_date = #{params.beginDate}
            </if>
            <if test=" params.endDate != null">
                <!--  and  end_date between #{params.beginDate} and #{params.endDate}  -->
                and end_date = #{params.endDate}
            </if>
            <if test=" params.cantractDate != null">
                <!--  and  cantract_date between #{params.beginDate} and #{params.endDate}  -->
                and cantract_date = #{params.cantractDate}
            </if>
            <if test=" params.firstDate != null">
                <!--  and  first_date between #{params.beginDate} and #{params.endDate}  -->
                and first_date = #{params.firstDate}
            </if>
            <if test=" params.followUp != null and params.followUp.trim() != ''">
                and follow_up like CONCAT('%','${params.followUp}','%' )
            </if>
            <if test=" params.purpose != null and params.purpose.trim() != ''">
                and purpose like CONCAT('%','${params.purpose}','%' )
            </if>
            <if test=" params.type != null and params.type.trim() != ''">
                and type like CONCAT('%','${params.type}','%' )
            </if>
            <if test=" params.property != null and params.property.trim() != ''">
                and property like CONCAT('%','${params.property}','%' )
            </if>
            <if test=" params.label != null and params.label.trim() != ''">
                and label = #{params.label}
            </if>
            <if test=" params.remark != null and params.remark.trim() != ''">
                and remark = #{params.remark}
            </if>
            <if test=" params.client != null and params.client.trim() != ''">
                and client like CONCAT('%','${params.client}','%' )
            </if>
            <if test=" params.form != null and params.form.trim() != ''">
                and form = #{params.form}
            </if>
            <if test=" params.mainBody != null">
                and main_body = #{params.mainBody}
            </if>
            <if test=" params.path != null and params.path.trim() != ''">
                and path = #{params.path}
            </if>
            <if test=" params.createTime != null">
                <!--  and  create_time between #{params.beginDate} and #{params.endDate}  -->
                and create_time = #{params.createTime}
            </if>
            <if test=" params.updateTime != null">
                <!--  and  update_time between #{params.beginDate} and #{params.endDate}  -->
                and update_time = #{params.updateTime}
            </if>
            <if test=" params.createUser != null">
                and create_user = #{params.createUser}
            </if>
            <if test=" params.updateUser != null">
                and update_user = #{params.updateUser}
            </if>
            <if test=" params.status != null">
                and status = #{params.status}
            </if>
            <if test=" params.deleted != null">
                and deleted = #{params.deleted}
            </if>
            <if test=" params.contractStatus != null">
                and contract_status = #{params.contractStatus}
            </if>
            <if test=" params.auditStatus != null">
                and audit_status = #{params.auditStatus}
            </if>
        </if>
    </sql>
</mapper>
